window.addEventListener("load",function(){var e=document.querySelector(".btn-menu"),t=document.querySelector(".list-menu"),o=(document.querySelector(".item-menu"),document.querySelector(".search-button")),n=document.querySelector(".search-form"),r=document.querySelector(".sign-button"),c=document.querySelector(".sign-form"),l=document.querySelectorAll(".close-up-form"),d=document.querySelector(".background"),s=document.querySelector(".list-products"),a=s.querySelectorAll(".img-product"),i=s.querySelectorAll(".product-amount"),m=s.querySelectorAll(".product-name"),y=document.querySelector("#cart-product-description").content.querySelector(".background-position-popup"),u=document.querySelectorAll(".Quick-View"),q=document.querySelector(".basket-text"),S=document.querySelector(".basket-conteiner"),p=document.querySelector(".order"),v=document.querySelector(".list-order"),g=document.querySelector("#item-order-create").content,h=document.querySelector(".slogan-add"),f=document.querySelector(".order-totals");e.addEventListener("click",function(){t.classList.toggle("show")}),o.addEventListener("click",function(){n.style.display="block"}),r.addEventListener("click",function(e){e.preventDefault(),c.style.display="block"}),u.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),function(e){var t=y.cloneNode(!0),o=t.querySelector(".img-product-description"),n=t.querySelector(".product-name"),r=t.querySelector(".product-amount-cart"),c=t.querySelector(".add-basket"),l=t.querySelector("#weight");o.src=a[e].src,o.alt=m[e].textContent,n.textContent=m[e].textContent,r.textContent=+i[e].textContent;var u={name:n.textContent,src:o.src,price:r.textContent};return function(e){e.querySelector(".close-up").addEventListener("click",function(){e.remove(),d.classList.remove("show-background")})}(t),function(t){c.addEventListener("click",function(){if(0!=t.querySelector(".cost-calculation").textContent){t.remove(),d.classList.remove("show-background");var e=l.options[l.selectedIndex].value;return S.classList.add("polygon-active"),function(e,t){var o=g.cloneNode(!0),n=o.querySelector(".img-order"),r=o.querySelector(".name-order"),c=o.querySelector(".order-quantity"),l=o.querySelector(".order-price"),u=o.querySelector(".order-amount");n.src=e.src,r.textContent=e.name,c.textContent=t,l.textContent=e.price;var d=parseInt(e.price,10)*t;u.textContent=d,v.appendChild(o);for(var s=v.querySelectorAll(".item-order"),a=0;a<s.length;a++)(s.length=0)&&(q.textContent="Пусто"),(s.length=1)&&(q.textContent="1 товар"),1<s.length&&(q.textContent=s.length+" товара")}(u,e),u}})}(t),s.appendChild(t),d.classList.add("show-background")}(t)})}),S.addEventListener("click",function(){for(var n=v.children,e=v.querySelectorAll(".order-amount"),t=v.querySelectorAll(".close-up"),o=0,r=0;r<n.length;r++)0<n.length&&(h.classList.add("slogan-hidden"),f.classList.add("order-totals-show"),o+=+e[r].textContent),u(t[r],n[r],e[r].textContent);var c=f.querySelector(".totals-amount"),l=c.textContent=o;function u(e,t,o){e.addEventListener("click",function(){t.remove(),l-=o,c.textContent=l;for(var e=0;e<=n.length;e++)n.length<=0?(q.textContent="Пусто",h.classList.remove("slogan-hidden"),f.classList.remove("order-totals-show"),S.classList.remove("polygon-active")):(n.length=1)?q.textContent="1 товар":1<n.length&&(q.textContent=n.length+" товара")})}p.classList.toggle("order-show")}),l.forEach(function(e,t){e.addEventListener("click",function(){switch(t){case t=0:n.style.display="none";break;case t=1:c.style.display="none";break;case t=2:p.classList.remove("order-show")}})})});